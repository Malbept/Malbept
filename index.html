<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>햍햟혞햩혪 App</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="main.js"></script>
    <script src="ui.js"></script>
    <script src="game.js"></script>
</head>
<body>
    <div id="profile">행햟햡혞향햨햟...</div>
    <div id="banner">
        <h2>햍햟혞햩혪 App 游</h2>
        <p>햊햡햟햧, 혜쮏쐃쟴햟햧 햦혝쮏쩀햣 햦 쮏쐃왏웷얧썛! 游</p>
    </div>
    <div id="main-content">
        <button class="back-button" onclick="goBack()" style="display: none;">햏햟향햟햢 拘勇</button>
        <h2>햆쮏쐄 쮏웷썛쮏쒫썜혧! 游</h2>
        <p>뉌햠햣햦 햟향햢햣햩  햪햣햫혩 혜햫햦향혞, 혢혝쮏쐄 햫햟혢햟혝혧! 游떀</p>
    </div>
    <div id="navbar">
        <button class="action" onclick="showProfile()">쮐햦햩혧 游녻</button>
        <button class="action" onclick="showPets()">햦혝쮏쩀혦 游</button>
        <button class="action" onclick="showCollections()">햌쮏햩햣햨혡햦햦 游빜</button>
        <button class="action" onclick="showInventory()">햊햫쒫왏쫨햟혧 游</button>
        <button class="action" onclick="showShop()">햎햟햡햟향햦햫 游낅</button>
        <button class="action" onclick="showGames()">햊햡혦 游</button>
        <button class="action" onclick="showRewards()">햏햟햡햟햢혦 游꾸</button>
        <button class="action" onclick="showQuests()">햌쒫왐혝혦 游닆</button>
        <button class="action" onclick="showTreasureHunt()">쮏쟴햨 游댌</button>
        <button class="action" onclick="showWheel()">햌쮏햣혜 游꿔</button>
        <button class="action" onclick="showEarn()">행햟햟햠쮐쮏 游눶</button>
    </div>
    <script>
        let historyStack = ['main'];
        document.querySelectorAll('.action').forEach(button => {
            button.addEventListener('touchstart', () => button.classList.add('active'));
            button.addEventListener('touchend', () => button.classList.remove('active'));
        });
        window.Telegram.WebApp.onEvent('backButtonClicked', goBack);
        window.Telegram.WebApp.BackButton.hide();

        function goBack() {
            if (historyStack.length > 1) {
                historyStack.pop();
                const lastSection = historyStack[historyStack.length - 1];
                if (lastSection === 'main') {
                    showMain();
                } else {
                    window[lastSection]();
                }
            } else {
                showMain();
            }
        }

        function showMain() {
            document.getElementById('main-content').innerHTML = `
                <button class="back-button" onclick="goBack()" style="display: none;">햏햟향햟햢 拘勇</button>
                <h2>햆쮏쐄 쮏웷썛쮏쒫썜혧! 游</h2>
                <p>뉌햠햣햦 햟향햢햣햩  햪햣햫혩 혜햫햦향혞, 혢혝쮏쐄 햫햟혢햟혝혧! 游떀</p>
            `;
            historyStack = ['main'];
            window.Telegram.WebApp.BackButton.hide();
            updateProfile();
        }
    </script>
</body>
</html>