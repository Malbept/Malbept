<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ğ›Ğ°Ğ¿ÑƒĞ»Ñ App</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/x-icon;base64,AAABAAEAEBAQAAEABAAoAQAAFgAAACgAAAAQAAAAIAAAAAEABAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAA/4QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEREQAAAAAAEAAAEAAAAAEAAAABAAAAEAAAAAAQAAAQAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAP+AAAH/gAAB/4AAAf+AAAP/AAAB/4AAA/+AAAP/gAAD/4AAA/+AAAP/wAAD/8AAA//gAAP/4AAA/+AAAP/gAAD/4AA" type="image/x-icon">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <!-- Ğ’ĞµÑ€Ñ…Ğ½ÑÑ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸ -->
    <div id="top-bar" class="nav-bar">
        <button class="action glass-button" data-action="showProfile">ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ ğŸ‘¤</button>
        <button class="action glass-button" data-action="showPets">ĞŸĞ¸Ñ‚Ğ¾Ğ¼Ñ†Ñ‹ ğŸ¾</button>
        <button class="action glass-button" data-action="showCollections">ĞšĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸ ğŸ§º</button>
    </div>

    <!-- Ğ›ĞµĞ²Ğ°Ñ Ğ±Ğ¾ĞºĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ (Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ½ÑˆĞµÑ‚Ğ¾Ğ² Ğ¸ ĞŸĞš) -->
    <div id="side-bar-left" class="nav-bar">
        <button class="action glass-button" data-action="showInventory">Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€ÑŒ ğŸ’</button>
        <button class="action glass-button" data-action="showShop">ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½ ğŸª</button>
        <button class="action glass-button" data-action="showRealEstate">ĞĞµĞ´Ğ²Ğ¸Ğ¶Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ğŸ¡</button>
    </div>

    <!-- ĞŸÑ€Ğ°Ğ²Ğ°Ñ Ğ±Ğ¾ĞºĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ (Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ½ÑˆĞµÑ‚Ğ¾Ğ² Ğ¸ ĞŸĞš) -->
    <div id="side-bar-right" class="nav-bar">
        <button class="action glass-button" data-action="showGames">ĞšĞ°Ğ·Ğ¸Ğ½Ğ¾ ğŸ²</button>
        <button class="action glass-button" data-action="showRewards">ĞĞ°Ğ³Ñ€Ğ°Ğ´Ñ‹ ğŸ</button>
    </div>

    <!-- ĞÑĞ½Ğ¾Ğ²Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞ½Ñ‚ -->
    <div id="profile">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</div>
    <div id="banner">
        <h2>Ğ›Ğ°Ğ¿ÑƒĞ»Ñ App ğŸ¾</h2>
        <p>Ğ˜Ğ³Ñ€Ğ°Ğ¹, ÑĞ¾Ğ±Ğ¸Ñ€Ğ°Ğ¹ Ğ¿Ğ¸Ñ‚Ğ¾Ğ¼Ñ†ĞµĞ² Ğ¸ Ğ¿Ğ¾Ğ±ĞµĞ¶Ğ´Ğ°Ğ¹! ğŸš€</p>
        <p id="eventInfo"></p>
    </div>
    <div id="main-content">
        <button class="back-button glass-button" onclick="goBack()" style="display: none;">ĞĞ°Ğ·Ğ°Ğ´ â¬…ï¸</button>
        <h2>Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ! ğŸš€</h2>
        <p>Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ Ñ€Ğ°Ğ·Ğ´ĞµĞ», Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ°Ñ‡Ğ°Ñ‚ÑŒ! ğŸ˜º</p>
    </div>

    <!-- ĞĞ¸Ğ¶Ğ½ÑÑ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼Ğ¸ -->
    <div id="bottom-bar" class="nav-bar">
        <button class="action glass-button" data-action="showQuests">ĞšĞ²ĞµÑÑ‚Ñ‹ ğŸ“œ</button>
        <button class="action glass-button" data-action="showTreasureHunt">ĞŸĞ¾Ğ¸ÑĞº ğŸ”</button>
        <button class="action glass-button" data-action="showWheel">ĞšĞ¾Ğ»ĞµÑĞ¾ ğŸ¡</button>
        <button class="action glass-button" data-action="showEarn">Ğ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ¾Ğº ğŸ’¸</button>
        <button class="action glass-button" data-action="showFriends">Ğ”Ñ€ÑƒĞ·ÑŒÑ ğŸ‘¥</button>
        <button class="action glass-button" data-action="showTournaments">Ğ¢ÑƒÑ€Ğ½Ğ¸Ñ€Ñ‹ ğŸ†</button>
        <button class="action glass-button" data-action="showSeasonPass">ĞŸÑ€Ğ¾Ğ¿ÑƒÑĞº ğŸŸï¸</button>
        <!-- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ Ğ¸Ğ· Ğ±Ğ¾ĞºĞ¾Ğ²Ñ‹Ñ… Ğ¿Ğ°Ğ½ĞµĞ»ĞµĞ¹ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… -->
        <button class="action glass-button mobile-only" data-action="showInventory">Ğ˜Ğ½Ğ²ĞµĞ½Ñ‚Ğ°Ñ€ÑŒ ğŸ’</button>
        <button class="action glass-button mobile-only" data-action="showShop">ĞœĞ°Ğ³Ğ°Ğ·Ğ¸Ğ½ ğŸª</button>
        <button class="action glass-button mobile-only" data-action="showGames">ĞšĞ°Ğ·Ğ¸Ğ½Ğ¾ ğŸ²</button>
        <button class="action glass-button mobile-only" data-action="showRewards">ĞĞ°Ğ³Ñ€Ğ°Ğ´Ñ‹ ğŸ</button>
        <button class="action glass-button mobile-only" data-action="showRealEstate">ĞĞµĞ´Ğ²Ğ¸Ğ¶Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ ğŸ¡</button>
        <button class="action glass-button" data-action="showOther">Ğ”Ñ€ÑƒĞ³Ğ¾Ğµ âš™ï¸</button>
    </div>

    <!-- ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ ÑĞºÑ€Ğ¸Ğ¿Ñ‚Ñ‹ -->
    <script src="core.js"></script>
    <script src="ui-main.js"></script>
    <script src="ui-casino.js"></script>
    <script src="ui-realestate.js"></script>
    <script src="game-base.js"></script>
    <script src="game-mini.js"></script>
    <script src="game-special.js"></script>
    <script src="social.js"></script>
    <script src="pets.js"></script>
    <script src="events.js"></script>
    <script src="utils.js"></script>
    <script src="profile.js"></script>
    <script src="inventory.js"></script>
    <script src="settings.js"></script>
    <script src="admin.js"></script>
    <script src="quests.js"></script>
    <script src="earn.js"></script>
    <script src="shop.js"></script>
    <script src="friends.js"></script>
    <script src="rewards.js"></script>
    <script src="season.js"></script>
    <script src="tournaments.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            window.Telegram.WebApp.ready();
            window.Telegram.WebApp.expand();

            // ĞŸĞ¾Ğ»ÑƒÑ‡Ğ°ĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¸Ğ· Telegram
            const user = window.Telegram.WebApp.initDataUnsafe.user;
            if (user) {
                profile.username = user.username || user.first_name || 'ĞĞ½Ğ¾Ğ½Ğ¸Ğ¼';
                showNotification(`ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ${profile.username}! Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ! ğŸ˜º`);
            } else {
                profile.username = 'ĞĞ½Ğ¾Ğ½Ğ¸Ğ¼';
                showNotification('ĞŸÑ€Ğ¸Ğ²ĞµÑ‚, ĞĞ½Ğ¾Ğ½Ğ¸Ğ¼! Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ! ğŸ˜º');
            }

            if (typeof loadProfile === 'function') {
                loadProfile();
                updateProfile();
                applyTheme();
            } else {
                console.error('loadProfile is not defined. Check if core.js is loaded correctly.');
                document.getElementById('profile').innerText = 'ĞÑˆĞ¸Ğ±ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ.';
            }

            if (profile && profile.event) {
                document.getElementById('eventInfo').innerText = `Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ: ${profile.event.description}`;
            } else {
                document.getElementById('eventInfo').innerText = '';
            }

            let bannerClicks = 0;
            const banner = document.getElementById('banner');
            if (banner) {
                banner.addEventListener('click', () => {
                    bannerClicks++;
                    if (bannerClicks >= 10) {
                        profile.coins += 100;
                        showNotification('Ğ¡ĞµĞºÑ€ĞµÑ‚Ğ½Ğ°Ñ Ğ½Ğ°Ğ³Ñ€Ğ°Ğ´Ğ°! +100 Ğ¼Ğ¾Ğ½ĞµÑ‚ ğŸ‰');
                        bannerClicks = 0;
                        updateProfile();
                    }
                });
            }

            // ĞŸÑ€Ğ¸Ğ²ÑĞ·Ñ‹Ğ²Ğ°ĞµĞ¼ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ğº ĞºĞ½Ğ¾Ğ¿ĞºĞ°Ğ¼ Ğ¸ Ğ½Ğ°Ğ±Ğ»ÑĞ´Ğ°ĞµĞ¼ Ğ·Ğ° Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸ÑĞ¼Ğ¸
            bindButtonEvents();
            observeContentChanges();

            window.goBack = function() {
                if (historyStack.length > 1) {
                    historyStack.pop();
                    const lastSection = historyStack[historyStack.length - 1];
                    if (lastSection === 'main') {
                        showMain();
                    } else if (window[lastSection]) {
                        window[lastSection]();
                    }
                } else {
                    showMain();
                }
            };

            if (typeof updateEnergy === 'function') {
                setInterval(updateEnergy, 1000);
            } else {
                console.error('updateEnergy is not defined. Check if core.js is loaded correctly.');
            }

            const mainContent = document.getElementById('main-content');
            const navBars = document.querySelectorAll('.nav-bar');
            mainContent.addEventListener('scroll', () => {
                const scrollTop = mainContent.scrollTop;
                const opacity = Math.max(0, 1 - scrollTop / 100);
                navBars.forEach(bar => {
                    bar.style.opacity = opacity;
                });
            });
        });
    </script>
</body>
</html>